---
export const prerender = true;

import { I18nService } from '../../services/I18nService';

export async function getStaticPaths() {
  await I18nService.init();

  const locales = I18nService.getLanguageCodes();
  const defaultLocale = I18nService.getDefaultLanguage();

  return locales
    .filter(locale => locale !== defaultLocale)
    .map(locale => ({
      params: { lang: locale }
    }));
}

const { lang } = Astro.params;

import HomePage from '../../components/HomePage.astro';
---

<HomePage locale={lang} />