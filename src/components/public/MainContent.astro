---
// src/components/layouts/MainContent.astro
export interface Props {
  gap?: 'none' | 'tiny' | 'small' | 'medium' | 'large' | 'xl';
  background?: 'dark' | 'darker' | 'gradient';
  particles?: boolean;
}

const { 
  gap = 'medium',
  background = 'dark', 
  particles = true 
} = Astro.props;
---

<main class={`main-content main-content--bg-${background} ${particles ? 'main-content--particles' : ''}`}>
  <div class={`main-content-container main-content-container--gap-${gap}`}>
    <slot />
  </div>
</main>

<style>
  /* =========================================== */
  /* === CONTAINER EXTERIOR (main-content) === */
  /* =========================================== */
  
  .main-content {
    width: 100%;
    position: relative;
    z-index: 1;
    
    /* SOLO centra horizontalmente */
    display: flex;
    justify-content: center;
    align-items: flex-start;

    padding: 2.5rem 0;
  }

  /* === BACKGROUNDS (aplicados al container exterior) === */
  .main-content--bg-dark {
    background: rgb(20, 20, 20);
  }

  .main-content--bg-darker {
    background: rgb(15, 15, 15);
  }

  .main-content--bg-gradient {
    background: linear-gradient(180deg, rgb(20, 20, 20) 0%, rgb(15, 15, 15) 100%);
  }

  /* === EFECTO DE PARTÍCULAS (aplicado al container exterior) === */
  .main-content--particles::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 25% 25%, #f4a261 1px, transparent 1px),
      radial-gradient(circle at 75% 75%, #f4a261 1px, transparent 1px),
      radial-gradient(circle at 40% 80%, #f4a261 1px, transparent 1px),
      radial-gradient(circle at 80% 20%, #f4a261 1px, transparent 1px),
      radial-gradient(circle at 15% 60%, #f4a261 1px, transparent 1px);
    background-size: 
      120px 120px, 
      150px 150px, 
      100px 100px, 
      180px 180px, 
      90px 90px;
    opacity: 0.15;
    animation: float 25s ease-in-out infinite;
    z-index: -1;
    pointer-events: none;
  }

  @keyframes float {
    0%, 100% { 
      transform: translateY(0px) translateX(0px); 
    }
    25% { 
      transform: translateY(-15px) translateX(5px); 
    }
    50% { 
      transform: translateY(-25px) translateX(-10px); 
    }
    75% { 
      transform: translateY(-10px) translateX(8px); 
    }
  }

  /* ============================================== */
  /* === CONTAINER INTERIOR (main-content-container) === */
  /* ============================================== */
  
  .main-content-container {
    max-width: 1200px;
    width: 100%;
    position: relative;
    z-index: 2;
    
    /* ESTE container maneja el layout y gaps */
    display: flex;
    flex-direction: column;
    
    /* Padding responsivo */
    padding: 0 var(--padding-mobile);
  }

  /* === RESPONSIVE PADDING DEL CONTAINER INTERIOR === */
  @media (min-width: 768px) {
    .main-content-container {
      padding: 0 var(--padding-tablet);
    }
  }

  @media (min-width: 1024px) {
    .main-content-container {
      padding: 0 var(--padding-desktop);
    }
  }

  /* ======================================= */
  /* === GAPS (aplicados al container interior) === */
  /* ======================================= */

  /* Mobile gaps */
  .main-content-container--gap-none {
    gap: 0;
  }

  .main-content-container--gap-tiny {
    gap: calc(var(--padding-mobile) * 0.25); /* 0.25rem */
  }

  .main-content-container--gap-small {
    gap: calc(var(--padding-mobile) * 0.5); /* 0.5rem */
  }

  .main-content-container--gap-medium {
    gap: calc(var(--padding-mobile) * 1); /* 1rem */
  }

  .main-content-container--gap-large {
    gap: calc(var(--padding-mobile) * 1.5); /* 1.5rem */
  }

  .main-content-container--gap-xl {
    gap: calc(var(--padding-mobile) * 2.5); /* 2.5rem */
  }

  /* === RESPONSIVE GAPS (aplicados al container interior) === */
  
  /* TABLET (768px+) */
  @media (min-width: 768px) {
    .main-content-container--gap-none {
      gap: 0;
    }

    .main-content-container--gap-tiny {
      gap: calc(var(--padding-tablet) * 0.25); /* 0.5rem */
    }

    .main-content-container--gap-small {
      gap: calc(var(--padding-tablet) * 0.5); /* 1rem */
    }

    .main-content-container--gap-medium {
      gap: calc(var(--padding-tablet) * 0.75); /* 1.5rem */
    }

    .main-content-container--gap-large {
      gap: calc(var(--padding-tablet) * 1); /* 2rem */
    }

    .main-content-container--gap-xl {
      gap: calc(var(--padding-tablet) * 1.5); /* 3rem */
    }
  }

  /* DESKTOP (1024px+) */
  @media (min-width: 1024px) {
    .main-content-container--gap-none {
      gap: 0;
    }

    .main-content-container--gap-tiny {
      gap: calc(var(--padding-desktop) * 0.17); /* 0.5rem */
    }

    .main-content-container--gap-small {
      gap: calc(var(--padding-desktop) * 0.33); /* 1rem */
    }

    .main-content-container--gap-medium {
      gap: calc(var(--padding-desktop) * 0.5); /* 1.5rem */
    }

    .main-content-container--gap-large {
      gap: calc(var(--padding-desktop) * 0.67); /* 2rem */
    }

    .main-content-container--gap-xl {
      gap: calc(var(--padding-desktop) * 1); /* 3rem */
    }
  }

  /* ================================================ */
  /* === SECCIONES HIJAS (gestionadas por container interior) === */
  /* ================================================ */
  
  .main-content-container > :global(section) {
    position: relative;
    z-index: 2;
    
    /* Padding vertical para las secciones */
    padding: calc(var(--padding-mobile) * 1.5) 0;
    
    /* Eliminar backgrounds duplicados */
    background: transparent !important;
  }

  .main-content-container > :global(section)::before {
    /* Eliminar efectos de partículas duplicados */
    display: none !important;
  }

  /* === RESPONSIVE PADDING PARA SECCIONES === */
  
  /* TABLET (768px+) */
  @media (min-width: 768px) {
    .main-content-container > :global(section) {
      padding: calc(var(--padding-tablet) * 1.25) 0;
    }
  }

  /* DESKTOP (1024px+) */
  @media (min-width: 1024px) {
    .main-content-container > :global(section) {
      padding: calc(var(--padding-desktop) * 1) 0;
    }
  }

  /* === MOBILE AJUSTES === */
  @media (max-width: 420px) {
    .main-content-container > :global(section) {
      padding: calc(var(--padding-mobile) * 1.25) 0;
    }
  }

  /* =============================================== */
  /* === VARIANTES OPCIONALES === */
  /* =============================================== */
  
  /* Secciones como tarjetas */
  .main-content-container > :global(.section-card) {
    background: rgba(0, 0, 0, 0.6) !important;
    backdrop-filter: blur(15px);
    border-radius: 20px;
    border: 1px solid rgba(244, 162, 97, 0.2);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    padding: calc(var(--padding-mobile) * 2);
  }

  @media (min-width: 768px) {
    .main-content-container > :global(.section-card) {
      padding: calc(var(--padding-tablet) * 2);
    }
  }

  @media (min-width: 1024px) {
    .main-content-container > :global(.section-card) {
      padding: calc(var(--padding-desktop) * 1.5);
    }
  }
</style>