---
export const prerender = true;

import { I18nService } from '../../services/I18Service.js';

const { 
  key, 
  fallback,
  params, 
  maxLength, 
  tag = 'span',
  class: className,
  style,
  ...restProps 
} = Astro.props;

let text = await I18nService.safeTranslation(key, Astro, fallback ?? null, params);

// Aplicar lÃ­mite si existe
if (maxLength && text.length > maxLength) {
  text = text.substring(0, maxLength - 3) + '...';
}

const Element = tag;
---
<Element class={className} style={style} {...restProps} set:html={text} />